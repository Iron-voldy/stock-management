<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Stock Overview - Inventory System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #F7F7F7;
            color: #000;
        }
        .navbar {
            background-color: #5290AD;
        }
        .card {
            background-color: #FFF;
            border-color: #AD6F52;
            margin-bottom: 20px;
        }
        .table-striped tbody tr:nth-of-type(odd) {
            background-color: rgba(82, 144, 173, 0.1);
        }
        .low-stock {
            color: #FF0000;
            font-weight: bold;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
        <a class="navbar-brand" href="#">Inventory System</a>
    </div>
</nav>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-12">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0">Stock Status Overview</h3>
                </div>
                <div class="card-body">
                    <h4>Current Stock Levels</h4>
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>Product ID</th>
                            <th>Current Stock</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="entry : ${stockStatus}">
                            <td th:text="${entry.key}">Product ID</td>
                            <td th:text="${entry.value}">Stock Level</td>
                            <td th:classappend="${entry.value < 10 ? 'low-stock' : ''}">
                                <span th:text="${entry.value < 10 ? 'Low Stock' : 'Sufficient'}">Stock Status</span>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0">Recent Transactions</h3>
                </div>
                <div class="card-body">
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th>Transaction ID</th>
                            <th>Product ID</th>
                            <th>Product Name</th>
                            <th>Quantity</th>
                            <th>Transaction Type</th>
                            <th>Date</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="transaction : ${transactions}">
                            <td th:text="${transaction.id}">Transaction ID</td>
                            <td th:text="${transaction.productId}">Product ID</td>
                            <td th:text="${transaction.productName}">Product Name</td>
                            <td th:text="${transaction.quantity}">Quantity</td>
                            <td th:text="${transaction.transactionType}">Transaction Type</td>
                            <td th:text="${transaction.transactionDate}">Transaction Date</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0">Low Stock Alert</h3>
                </div>
                <div class="card-body">
                    <h4 class="text-danger" th:if="${#lists.isEmpty(lowStockProducts)}">
                        No products with low stock.
                    </h4>
                    <ul class="list-group" th:unless="${#lists.isEmpty(lowStockProducts)}">
                        <li class="list-group-item list-group-item-danger"
                            th:each="product : ${lowStockProducts}"
                            th:text="${product}">
                            Low Stock Product
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>